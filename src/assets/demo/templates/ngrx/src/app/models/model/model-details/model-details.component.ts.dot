import {Component, EventEmitter, Input, Output, OnInit} from '@angular/core';
import {{{=it.m.names.upperCamel}}} from '../{{=it.m.names.hyphen}}';
import {MatSlideToggleChange} from '@angular/material';

@Component({
  selector: 'anms-{{=it.m.names.hyphen}}-details',
  templateUrl: './{{=it.m.names.hyphen}}-details.component.html',
  styleUrls: ['./{{=it.m.names.hyphen}}-details.component.scss']
})
export class {{=it.m.names.upperCamel}}DetailsComponent implements OnInit {

  /**
   * The {{=it.m.names.wordsLower}} to inject in the form
   */
  @Input() {{=it.m.names.lowerCamel}}: {{=it.m.names.upperCamel}};

  /**
   * Called the save button is clicked
   *
   * @type {EventEmitter<void>}
   */
  @Output() onDelete = new EventEmitter<void>();

  /**
   * Toggle delete button display
   *
   * @type {boolean}
   */
  deletionUnlocked: boolean = false;

  /**
   * Constructor
   */
  constructor() {
  }

  /**
   * Init
   */
  ngOnInit() {
  }

  /**
   * Triggered when the lock is moved
   *
   * @param {MatSlideToggleChange} event
   */
  onDeletionUnlock(event: MatSlideToggleChange): void {
    this.deletionUnlocked = event.checked;
  }

  /**
   * Called on deletion
   */
  onDeleteClick(): void {
    this.onDelete.next();
  }
}
